<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiment 5: HTTP vs HTTPS</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .comparison { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .test-case { 
            padding: 20px; 
            border-radius: 8px; 
        }
        .http { background: #ffebee; border-left: 4px solid #f44336; }
        .https { background: #e8f5e8; border-left: 4px solid #4caf50; }
        .demo-section {
            background: #f5f5f5;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
        }
        input, button { 
            padding: 10px; 
            margin: 5px 0; 
            border: 1px solid #ddd; 
            border-radius: 4px; 
            width: 100%; 
            box-sizing: border-box; 
        }
        button { background: #007bff; color: white; cursor: pointer; width: auto; }
        .network-packet {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 14px;
            white-space: pre-wrap;
        }
        .vulnerable { color: #d32f2f; }
        .secure { color: #388e3c; }
        .result { 
            margin-top: 10px; 
            padding: 15px; 
            border-radius: 4px; 
            background: white;
            border: 1px solid #ddd;
        }
        .warning { background: #fff3cd; border-color: #ffeaa7; color: #856404; }
        .success { background: #d4edda; border-color: #c3e6cb; color: #155724; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Experiment 5: HTTP vs HTTPS Security</h1>
        
        <div class="demo-section">
            <h3>üì° Network Transmission Simulation</h3>
            <p>‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô HTTP ‡πÅ‡∏•‡∏∞ HTTPS</p>
            
            <div style="max-width: 400px;">
                <input type="text" id="demoUsername" placeholder="Username" value="admin">
                <input type="password" id="demoPassword" placeholder="Password" value="secret123">
                <button onclick="simulateTransmission()">‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
            </div>
            
            <div id="transmissionResult"></div>
        </div>
        
        <div class="comparison">
            <div class="test-case http">
                <h3>üö® HTTP Server (‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)</h3>
                <p>‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                
                <form id="httpForm">
                    <input type="text" placeholder="Username" value="testuser">
                    <input type="password" placeholder="Password" value="testpass">
                    <button type="submit">Login via HTTP</button>
                </form>
                
                <div class="result" id="httpResult"></div>
                
                <h4>‚ö†Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á HTTP:</h4>
                <ul>
                    <li>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö plain text</li>
                    <li>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢</li>
                    <li>‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</li>
                    <li>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå</li>
                </ul>
            </div>
            
            <div class="test-case https">
                <h3>‚úÖ HTTPS Server (‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)</h3>
                <p>‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                
                <form id="httpsForm">
                    <input type="text" placeholder="Username" value="testuser">
                    <input type="password" placeholder="Password" value="testpass">
                    <button type="submit">Login via HTTPS</button>
                </form>
                
                <div class="result" id="httpsResult"></div>
                
                <h4>üîí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ HTTPS:</h4>
                <ul>
                    <li>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏î‡πâ‡∏ß‡∏¢ TLS</li>
                    <li>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô</li>
                    <li>‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</li>
                    <li>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏î‡πâ‡∏ß‡∏¢ Certificate</li>
                </ul>
            </div>
        </div>
        
        <div class="demo-section">
            <h3>üë§ Man-in-the-Middle Attack Demo</h3>
            <p>‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á</p>
            
            <button onclick="simulateMITM()">‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ MITM</button>
            
            <div id="mitmResult"></div>
        </div>
        
        <div class="demo-section">
            <h3>üìù ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:</h3>
            <ol>
                <li>‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏ó‡∏µ‡πà‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö network traffic ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏´‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ?</li>
                <li>‡∏ó‡∏≥‡πÑ‡∏° HTTPS ‡∏ñ‡∏∂‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡∏ß‡πà‡∏≤ HTTP?</li>
                <li>Certificate ‡πÉ‡∏ô HTTPS ‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏∞‡πÑ‡∏£?</li>
                <li>‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÑ‡∏´‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ HTTPS ‡πÄ‡∏™‡∏°‡∏≠?</li>
                <li>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ WiFi ‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Å‡∏±‡∏ö HTTP?</li>
            </ol>
        </div>
    </div>

    <script>
        function simulateTransmission() {
            const username = document.getElementById('demoUsername').value;
            const password = document.getElementById('demoPassword').value;
            
            if (!username || !password) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà username ‡πÅ‡∏•‡∏∞ password');
                return;
            }
            
            // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö HTTP
            const httpPacket = `POST /login HTTP/1.1
Host: example.com
Content-Type: application/json

{"username":"${username}","password":"${password}"}`;
            
            // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏ö‡∏ö HTTPS (‡∏á‡πà‡∏≤‡∏¢‡πÜ)
            const encrypted = btoa(JSON.stringify({username, password})) + '...encrypted...';
            const httpsPacket = `TLS Encrypted Data:
${encrypted}`;
            
            document.getElementById('transmissionResult').innerHTML = `
                <h4>üì° ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô Network:</h4>
                
                <div style="margin: 20px 0;">
                    <h5 class="vulnerable">üö® HTTP Transmission (‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢):</h5>
                    <div class="network-packet vulnerable">${httpPacket}</div>
                    <p class="vulnerable">üí° ‡∏ú‡∏π‡πâ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡πÄ‡∏´‡πá‡∏ô: Username="${username}", Password="${password}"</p>
                </div>
                
                <div style="margin: 20px 0;">
                    <h5 class="secure">üîí HTTPS Transmission (‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢):</h5>
                    <div class="network-packet secure">${httpsPacket}</div>
                    <p class="secure">üí° ‡∏ú‡∏π‡πâ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡πÄ‡∏´‡πá‡∏ô: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏•‡πâ‡∏ß (‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)</p>
                </div>
            `;
        }
        
        function simulateMITM() {
            document.getElementById('mitmResult').innerHTML = `
                <h4>üë§ Man-in-the-Middle Attack Scenario:</h4>
                
                <div style="background: #ffebee; padding: 15px; border-radius: 4px; margin: 10px 0;">
                    <h5>üö® HTTP (‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ):</h5>
                    <ol>
                        <li>‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: POST /login</li>
                        <li>‡∏ú‡∏π‡πâ‡πÇ‡∏à‡∏°‡∏ï‡∏µ (‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á) ‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö: {"username":"admin","password":"secret"}</li>
                        <li>‡∏ú‡∏π‡πâ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö: Username ‡πÅ‡∏•‡∏∞ Password ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô</li>
                        <li>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: ‚ùå ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏Ç‡πÇ‡∏°‡∏¢!</li>
                    </ol>
                </div>
                
                <div style="background: #e8f5e8; padding: 15px; border-radius: 4px; margin: 10px 0;">
                    <h5>‚úÖ HTTPS (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ):</h5>
                    <ol>
                        <li>‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™: TLS Encrypted Data</li>
                        <li>‡∏ú‡∏π‡πâ‡πÇ‡∏à‡∏°‡∏ï‡∏µ (‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á) ‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏•‡πâ‡∏ß</li>
                        <li>‡∏ú‡∏π‡πâ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ</li>
                        <li>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢!</li>
                    </ol>
                </div>
                
                <div style="background: #fff3cd; padding: 15px; border-radius: 4px; margin: 10px 0;">
                    <strong>üí° ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á:</strong>
                    <ul>
                        <li>WiFi ‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞ = ‡∏ú‡∏π‡πâ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢</li>
                        <li>HTTP = ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡∏¥‡∏î ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</li>
                        <li>HTTPS = ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö</li>
                    </ul>
                </div>
            `;
        }
        
        // HTTP Form submission
        document.getElementById('httpForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const username = e.target.querySelector('input[type="text"]').value;
            const password = e.target.querySelector('input[type="password"]').value;
            
            try {
                const response = await fetch('http://localhost:3005/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, password })
                });
                
                const data = await response.json();
                document.getElementById('httpResult').innerHTML = `
                    <div class="warning">
                        <h4>HTTP Response:</h4>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                        <p><strong>‚ö†Ô∏è ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:</strong> ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö plain text!</p>
                    </div>
                `;
            } catch (error) {
                document.getElementById('httpResult').innerHTML = `
                    <div class="warning">
                        <p>‚ùå Error: ${error.message}</p>
                        <p><small>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ HTTP server (port 3005) ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà</small></p>
                    </div>
                `;
            }
        });
        
        // HTTPS Form submission
        document.getElementById('httpsForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const username = e.target.querySelector('input[type="text"]').value;
            const password = e.target.querySelector('input[type="password"]').value;
            
            try {
                const response = await fetch('http://localhost:3006/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, password })
                });
                
                const data = await response.json();
                document.getElementById('httpsResult').innerHTML = `
                    <div class="success">
                        <h4>HTTPS Response:</h4>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                        <p><strong>‚úÖ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢:</strong> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á!</p>
                    </div>
                `;
            } catch (error) {
                document.getElementById('httpsResult').innerHTML = `
                    <div class="success">
                        <p>‚ùå Error: ${error.message}</p>
                        <p><small>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ HTTPS server (port 3006) ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà</small></p>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>