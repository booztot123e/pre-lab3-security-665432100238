<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiment 4: Password Security</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .container { max-width: 1000px; margin: 0 auto; }
        .test-case { 
            background: #f5f5f5; 
            padding: 20px; 
            margin: 20px 0; 
            border-radius: 8px; 
            border-left: 4px solid #007bff;
        }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        input, button, select { 
            padding: 10px; 
            margin: 5px 0; 
            border: 1px solid #ddd; 
            border-radius: 4px; 
            width: 100%; 
            box-sizing: border-box; 
        }
        button { background: #007bff; color: white; cursor: pointer; width: auto; }
        .result { 
            margin-top: 10px; 
            padding: 15px; 
            border-radius: 4px; 
            background: white;
            border: 1px solid #ddd;
        }
        .strength-meter {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }
        .strength-bar {
            height: 100%;
            transition: all 0.3s ease;
        }
        .very-weak { background: #dc3545; }
        .weak { background: #fd7e14; }
        .fair { background: #ffc107; }
        .good { background: #28a745; }
        .strong { background: #20c997; }
        .very-strong { background: #6f42c1; }
        .hash-demo { 
            font-family: monospace; 
            background: #f8f9fa; 
            padding: 10px; 
            border-radius: 4px;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Experiment 4: Password Security</h1>
        
        <div class="grid">
            <div class="test-case">
                <h3>üîç Password Strength Checker</h3>
                <p>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</p>
                
                <input type="password" id="passwordInput" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö">
                <button onclick="checkStrength()">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á</button>
                
                <div id="strengthResult"></div>
                
                <h4>üß™ ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö:</h4>
                <ul>
                    <li><code>admin</code> - ‡∏≠‡πà‡∏≠‡∏ô‡πÅ‡∏≠‡∏°‡∏≤‡∏Å</li>
                    <li><code>password123</code> - ‡∏≠‡πà‡∏≠‡∏ô‡πÅ‡∏≠</li>
                    <li><code>MyPass2024</code> - ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</li>
                    <li><code>MySecure#Pass2024</code> - ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á</li>
                </ul>
            </div>
            
            <div class="test-case">
                <h3>üîê Password Hashing Demo</h3>
                <p>‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</p>
                
                <input type="text" id="hashPassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ hash">
                <select id="hashMethod">
                    <option value="plain">Plain Text (‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)</option>
                    <option value="md5">MD5 (‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)</option>
                    <option value="sha256">SHA-256 (‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)</option>
                    <option value="salted">SHA-256 + Salt (‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)</option>
                </select>
                <button onclick="hashPassword()">‡∏™‡∏£‡πâ‡∏≤‡∏á Hash</button>
                
                <div id="hashResult"></div>
            </div>
        </div>
        
        <div class="test-case">
            <h3>üìä ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö Password Storage Methods</h3>
            <p>‡∏•‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á‡πÜ</p>
            
            <input type="text" id="comparePassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö" value="mypassword123">
            <button onclick="compareAllMethods()">‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ</button>
            
            <div id="comparisonResult"></div>
        </div>
        
        <div class="test-case">
            <h3>üìù ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:</h3>
            <ol>
                <li>‡∏ó‡∏≥‡πÑ‡∏° Plain Text ‡∏ñ‡∏∂‡∏á‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢?</li>
                <li>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á MD5 ‡∏Å‡∏±‡∏ö SHA-256 ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?</li>
                <li>Salt ‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£?</li>
                <li>‡∏•‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÉ‡∏ô Salted Hash ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?</li>
                <li>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?</li>
            </ol>
        </div>
    </div>

    <script>
        async function checkStrength() {
            const password = document.getElementById('passwordInput').value;
            
            if (!password) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô');
                return;
            }
            
            try {
                const response = await fetch('/check-strength', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password })
                });
                
                const result = await response.json();
                
                const percentage = (result.score / result.maxScore) * 100;
                const strengthClass = result.strength.replace(/\s+/g, '-').toLowerCase();
                
                document.getElementById('strengthResult').innerHTML = `
                    <h4>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:</h4>
                    <div class="strength-meter">
                        <div class="strength-bar ${strengthClass}" style="width: ${percentage}%"></div>
                    </div>
                    <p><strong>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á:</strong> ${result.strength} (${result.score}/${result.maxScore})</p>
                    ${result.feedback.length > 0 ? `
                        <p><strong>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞:</strong></p>
                        <ul>${result.feedback.map(f => `<li>${f}</li>`).join('')}</ul>
                    ` : '<p style="color: green;">‚úÖ ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏î‡∏µ!</p>'}
                `;
            } catch (error) {
                console.error('Error:', error);
            }
        }
        
        async function hashPassword() {
            const password = document.getElementById('hashPassword').value;
            const method = document.getElementById('hashMethod').value;
            
            if (!password) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô');
                return;
            }
            
            try {
                const response = await fetch('/hash-password', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password, method })
                });
                
                const result = await response.json();
                
                document.getElementById('hashResult').innerHTML = `
                    <h4>${result.method}</h4>
                    <div class="hash-demo">${result.stored}</div>
                    <p style="color: ${result.color};">${result.security}</p>
                `;
            } catch (error) {
                console.error('Error:', error);
            }
        }
        
        async function compareAllMethods() {
            const password = document.getElementById('comparePassword').value;
            
            if (!password) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô');
                return;
            }
            
            const methods = ['plain', 'md5', 'sha256', 'salted'];
            let results = '';
            
            for (const method of methods) {
                try {
                    const response = await fetch('/hash-password', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ password, method })
                    });
                    
                    const result = await response.json();
                    
                    results += `
                        <div style="margin: 15px 0; padding: 15px; border: 1px solid #ddd; border-radius: 4px;">
                            <h4>${result.method}</h4>
                            <div class="hash-demo">${result.stored}</div>
                            <p style="color: ${result.color};">${result.security}</p>
                        </div>
                    `;
                } catch (error) {
                    console.error('Error:', error);
                }
            }
            
            document.getElementById('comparisonResult').innerHTML = `
                <h4>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô: "${password}"</h4>
                ${results}
                <div style="background: #e7f3ff; padding: 15px; border-radius: 4px; margin-top: 20px;">
                    <strong>üí° ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:</strong> Salted hash ‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ salt ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°
                </div>
            `;
        }
        
        // Real-time password strength checking
        document.getElementById('passwordInput').addEventListener('input', function() {
            if (this.value.length > 0) {
                setTimeout(checkStrength, 300);
            }
        });
    </script>
</body>
</html>